## i18n国际化

### 困难：
- 文本长度不可预测
    - 所有地方都要有弹性
- 一词多义的翻译错误
- 语法差异，不同语言的语序不同，比如RTL的语言（这种对css的要求极高，暂不支持）

### 实现目标的角度：多语言、多币种、多时区
- 多币种：
    - 这个按照当地规则，转换一下就行。
- 多时区：
    - 前后端传递时间戳，前端根据时间戳转换为本地时间。
    - 麻烦的点就是，转换之后可能不在同一天，这样用户拿到的签名的时间可能会出现跨天。而如果加上UTC的显示，会比较怪。
    - 传值和存储方案：
        - 传时间戳 -> 无法溯源推断
        - 传时间戳 和 utc 时间
    - 展示的方案：
        - 显示utc+0
            - 不方便，需要手动换算。
        - 显示发生的事情的当前时区的时间（2025-07-25 10:00:00 utc+8）
        - 动态切换为用户本地的时区时间：会丢失原始时间上下文。
        - 显示双时区（utc+0 和 发生事情的时区）：太大了，并且用户理解困难。
    - 后端存UTC，接口传UTC，前端转本地 
- 多语言：
    - 文本长度不可预测
        - 所有地方都要有弹性，并且调试的时候全部都要照顾到，可以逐步适配多种语言。
    - 一词多义的翻译错误
    - 语法差异。
        - 不同语言的语序不同（比如中文的主谓宾，英文的宾主谓）
        - RTL的语言（这种对css的要求极高）
        - 不同语言的复数不同（比如 法语还有俄语）
        - 语言的的性别差异，强性别语言做人工审核。
            - 强性别：法/西/德/俄/阿
            - 弱性别：英语
            - 无性别：日/韩/中


多时区：

- 三种方案，两种情况。
- 核心场景：（显示）
    - 合同签署，审批节点的时间要特别具体，因此一定要双时间。
        - 出于习惯，都是精确到某一天，比如我的实习合同也是这样的。
            - 但是对于时间戳，一定会精确到某一秒，那么剩下的这一部分，你就只能设置默认。
            - 这样就可能出现，未来的时间或者过去的时间。
        - 早几个小时或者晚几个小时，可能会出现跨天的情况，天数对不上。
        - 合同签署，也会出现未来的时间以及过去的时间。
        - 当时有三个方案：
    - 格式时间选择：尽量不要默认，初始化的时候让用户自己选，然后存起来。
        - 后端存，绑定用户信息。
        - 前端存localStorge。
- 时间显示：
    - 1，显示事件发生的时间 + 事件发生的时区
        - 缺陷：用户要手动换算
    - 2，显示双时间：
        - 具体：
            - 事件发生的时间 + 事件发生的时区；
            - 用户当地的时间 + 用户的时区
        - 缺陷：在一些小屏场景不太好显示
    - 3，只显示用户当地的时间 + 用户的时区：
        - 在精准度不太高的常见场景适用。


- 存储场景
    - 排除到存储明文时间的方案，适合人去读，但是不适合计算机。
    - 只存时间戳，会出现信息缺失，不能知道原始时间。
    - 




#### 存量项目国际化

- 使用SDK扫描项目的ast语法树，然后生成key。

- 使用sdk，key：Value化

- 尽量遵循代数效应，让组件和逻辑分离，尽量通过高阶组件 (HOC)、Hooks 或者统一的工具函数来注入翻译能力，而不是让每个组件都去关心如何加载语言包。



